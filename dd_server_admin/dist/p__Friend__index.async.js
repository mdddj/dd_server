"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7287],{47577:function($,j,r){r.r(j),r.d(j,{default:function(){return S}});var I=r(15009),a=r.n(I),b=r(97857),f=r.n(b),x=r(99289),m=r.n(x),U=r(90930),C=r(61185),T=r(37476),c=r(5966),R=r(50335),L=r(19708),h=r(50942),A=r(78957),D=r(14726),B=r(86738),K=r(67294),n=r(85893);function W(u){return P.apply(this,arguments)}function P(){return P=m()(a()().mark(function u(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.request)("/api/admin/friend/list",{method:"GET",params:s}));case 1:case"end":return e.stop()}},u)})),P.apply(this,arguments)}function g(u){return O.apply(this,arguments)}function O(){return O=m()(a()().mark(function u(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.request)("/api/admin/friend/save",{method:"POST",data:s}));case 1:case"end":return e.stop()}},u)})),O.apply(this,arguments)}function Z(u){return M.apply(this,arguments)}function M(){return M=m()(a()().mark(function u(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.request)("/api/admin/friend/delete",{method:"DELETE",params:{id:s}}));case 1:case"end":return e.stop()}},u)})),M.apply(this,arguments)}function S(){var u=(0,K.useRef)();return(0,n.jsx)(U._z,{extra:[(0,n.jsx)(y,{onSuccess:function(){var _;return(_=u.current)===null||_===void 0?void 0:_.reload()}},"add")],children:(0,n.jsx)(C.Z,{actionRef:u,request:function(){var s=m()(a()().mark(function _(e,E,t){var d;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,W(f()(f()({},e),{},{remove:1},t));case 2:return d=l.sent,l.abrupt("return",{success:d.success,total:d.data.totalElements,data:d.data.content});case 4:case"end":return l.stop()}},_)}));return function(_,e,E){return s.apply(this,arguments)}}(),columns:[{key:"id",dataIndex:"id",title:"id"},{key:"name",dataIndex:"name",title:"name"},{key:"url",dataIndex:"url",title:"url"},{key:"intro",dataIndex:"intro",title:"intro"},{key:"logo",dataIndex:"logo",title:"logo"},{key:"state",dataIndex:"state",title:"state",render:function(_,e,E,t){return(0,n.jsx)(L.i,{isSelected:e.state===1,onValueChange:function(){var d=m()(a()().mark(function i(l){var o;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,g(f()(f()({},e),{},{state:l?1:0}));case 2:o=v.sent,o.success&&(t==null||t.reload());case 4:case"end":return v.stop()}},i)}));return function(i){return d.apply(this,arguments)}}()})}},{key:"createDate",dataIndex:"createDate",title:"createDate"},{key:"email",dataIndex:"email",title:"email"},{title:"\u64CD\u4F5C",render:function(_,e,E,t){return(0,n.jsxs)(A.Z,{children:[(0,n.jsx)(y,{trigger:(0,n.jsx)(D.ZP,{size:"small",children:"\u4FEE\u6539"}),initValue:e,onSuccess:function(){return t==null?void 0:t.reload()}}),(0,n.jsx)(B.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417?",onConfirm:m()(a()().mark(function d(){var i;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=e.id,!i){o.next=5;break}return o.next=4,Z(i);case 4:t==null||t.reload();case 5:case"end":return o.stop()}},d)})),children:(0,n.jsx)(D.ZP,{size:"small",type:"text",children:"\u5220\u9664"})})]})}}],rowKey:"id"})})}var y=function(s){var _=s.initValue,e=s.trigger,E=s.onSuccess;return(0,n.jsxs)(T.Y,{initialValues:_,onFinish:function(){var t=m()(a()().mark(function d(i){var l;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,g(i);case 2:return l=p.sent,l.success&&(E==null||E()),p.abrupt("return",l.success);case 5:case"end":return p.stop()}},d)}));return function(d){return t.apply(this,arguments)}}(),trigger:e!=null?e:(0,n.jsx)(D.ZP,{children:"\u65B0\u589E\u53CB\u94FE"}),children:[(0,n.jsx)(c.Z,{name:"id",label:"id",disabled:!0}),(0,n.jsx)(c.Z,{name:"name",label:"name"}),(0,n.jsx)(c.Z,{name:"url",label:"url"}),(0,n.jsx)(c.Z,{name:"intro",label:"intro"}),(0,n.jsx)(c.Z,{name:"logo",label:"logo",help:"\u968F\u673A\u51FA\u56FEapi: https://t.mwm.moe/ycy"}),(0,n.jsx)(c.Z,{name:"state",label:"state",tooltip:"\u72B6\u6001, 1\uFF1A \u8868\u793A\u53EF\u6B63\u5E38\u663E\u793A\uFF0C0\uFF1A\u8868\u793A\u9700\u8981\u5BA1\u6838"}),(0,n.jsx)(R.Z,{name:"createDate",label:"createDate"}),(0,n.jsx)(c.Z,{name:"email",label:"email"})]})}}}]);
