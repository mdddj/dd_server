"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7287],{47577:function($,g,r){r.r(g),r.d(g,{default:function(){return S}});var I=r(17061),a=r.n(I),x=r(42122),f=r.n(x),U=r(17156),c=r.n(U),C=r(90930),T=r(61185),R=r(37476),m=r(5966),L=r(50335),A=r(19708),h=r(40742),B=r(78957),D=r(28036),K=r(86738),W=r(67294),n=r(85893);function Z(u){return P.apply(this,arguments)}function P(){return P=c()(a()().mark(function u(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.request)("/api/admin/friend/list",{method:"GET",params:t}));case 1:case"end":return e.stop()}},u)})),P.apply(this,arguments)}function j(u){return O.apply(this,arguments)}function O(){return O=c()(a()().mark(function u(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.request)("/api/admin/friend/save",{method:"POST",data:t}));case 1:case"end":return e.stop()}},u)})),O.apply(this,arguments)}function b(u){return M.apply(this,arguments)}function M(){return M=c()(a()().mark(function u(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.request)("/api/admin/friend/delete",{method:"DELETE",params:{id:t}}));case 1:case"end":return e.stop()}},u)})),M.apply(this,arguments)}function S(){var u=(0,W.useRef)();return(0,n.jsx)(C._z,{extra:[(0,n.jsx)(y,{onSuccess:function(){var l;return(l=u.current)===null||l===void 0?void 0:l.reload()}},"add")],children:(0,n.jsx)(T.Z,{actionRef:u,request:function(){var t=c()(a()().mark(function l(e,E,s){var d;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Z(f()(f()({},e),{},{remove:1},s));case 2:return d=_.sent,_.abrupt("return",{success:d.success,total:d.data.totalElements,data:d.data.content});case 4:case"end":return _.stop()}},l)}));return function(l,e,E){return t.apply(this,arguments)}}(),columns:[{key:"id",dataIndex:"id",title:"id"},{key:"name",dataIndex:"name",title:"name"},{key:"url",dataIndex:"url",title:"url"},{key:"intro",dataIndex:"intro",title:"intro"},{key:"logo",dataIndex:"logo",title:"logo"},{key:"state",dataIndex:"state",title:"state",render:function(l,e,E,s){return(0,n.jsx)(A.i,{isSelected:e.state===1,onValueChange:function(){var d=c()(a()().mark(function i(_){var o;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,j(f()(f()({},e),{},{state:_?1:0}));case 2:o=p.sent,o.success&&(s==null||s.reload());case 4:case"end":return p.stop()}},i)}));return function(i){return d.apply(this,arguments)}}()})}},{key:"createDate",dataIndex:"createDate",title:"createDate"},{key:"email",dataIndex:"email",title:"email"},{title:"\u64CD\u4F5C",render:function(l,e,E,s){return(0,n.jsxs)(B.Z,{children:[(0,n.jsx)(y,{trigger:(0,n.jsx)(D.ZP,{size:"small",children:"\u4FEE\u6539"}),initValue:e,onSuccess:function(){return s==null?void 0:s.reload()}}),(0,n.jsx)(K.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417?",onConfirm:c()(a()().mark(function d(){var i;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=e.id,!i){o.next=5;break}return o.next=4,b(i);case 4:s==null||s.reload();case 5:case"end":return o.stop()}},d)})),children:(0,n.jsx)(D.ZP,{size:"small",type:"text",children:"\u5220\u9664"})})]})}}],rowKey:"id"})})}var y=function(t){var l=t.initValue,e=t.trigger,E=t.onSuccess;return(0,n.jsxs)(R.Y,{initialValues:l,onFinish:function(){var s=c()(a()().mark(function d(i){var _;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,j(i);case 2:return _=v.sent,_.success&&(E==null||E()),v.abrupt("return",_.success);case 5:case"end":return v.stop()}},d)}));return function(d){return s.apply(this,arguments)}}(),trigger:e!=null?e:(0,n.jsx)(D.ZP,{children:"\u65B0\u589E\u53CB\u94FE"}),children:[(0,n.jsx)(m.Z,{name:"id",label:"id",disabled:!0}),(0,n.jsx)(m.Z,{name:"name",label:"name"}),(0,n.jsx)(m.Z,{name:"url",label:"url"}),(0,n.jsx)(m.Z,{name:"intro",label:"intro"}),(0,n.jsx)(m.Z,{name:"logo",label:"logo",help:"\u968F\u673A\u51FA\u56FEapi: https://t.mwm.moe/ycy"}),(0,n.jsx)(m.Z,{name:"state",label:"state",tooltip:"\u72B6\u6001, 1\uFF1A \u8868\u793A\u53EF\u6B63\u5E38\u663E\u793A\uFF0C0\uFF1A\u8868\u793A\u9700\u8981\u5BA1\u6838"}),(0,n.jsx)(L.Z,{name:"createDate",label:"createDate"}),(0,n.jsx)(m.Z,{name:"email",label:"email"})]})}}}]);
