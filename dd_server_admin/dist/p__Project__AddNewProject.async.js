!(function(){"use strict";var Se=Object.defineProperty,Te=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var ge=(P,s,e)=>s in P?Se(P,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):P[s]=e,H=(P,s)=>{for(var e in s||(s={}))Pe.call(s,e)&&ge(P,e,s[e]);if(le)for(var e of le(s))Ee.call(s,e)&&ge(P,e,s[e]);return P},ne=(P,s)=>Te(P,Ze(s));var Ce=(P,s)=>{var e={};for(var r in P)Pe.call(P,r)&&s.indexOf(r)<0&&(e[r]=P[r]);if(P!=null&&le)for(var r of le(P))s.indexOf(r)<0&&Ee.call(P,r)&&(e[r]=P[r]);return e};(self.webpackChunk=self.webpackChunk||[]).push([[8467],{76591:function(P,s,e){var r=e(37469),a=e(93236),p=e(38917),C=e(16286),O=function(b,j){return a.createElement(C.Z,(0,r.Z)({},b,{ref:j,icon:p.Z}))},x=a.forwardRef(O);s.Z=x},41594:function(P,s,e){var r=e(30309),a=e(35194),p=e(50446),C=e(10753),O=e(1317),x=e(54689),I=e(71770),b=e(93236),j=e(19544),E=e(62086),A=["fieldProps","proFieldProps"],D=["fieldProps","proFieldProps"],S="text",T=function(m){var n=m.fieldProps,o=m.proFieldProps,c=(0,p.Z)(m,A);return(0,E.jsx)(j.Z,(0,a.Z)({valueType:S,fieldProps:n,filedConfig:{valueType:S},proFieldProps:o},c))},l=function(m){var n=(0,C.Z)(m.open||!1,{value:m.open,onChange:m.onOpenChange}),o=(0,r.Z)(n,2),c=o[0],f=o[1];return(0,E.jsx)(O.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(h){var d,v=h.getFieldValue(m.name||[]);return(0,E.jsx)(x.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},onOpenChange:function(t){return f(t)},content:(0,E.jsxs)("div",{style:{padding:"4px 0"},children:[(d=m.statusRender)===null||d===void 0?void 0:d.call(m,v),m.strengthText?(0,E.jsx)("div",{style:{marginTop:10},children:(0,E.jsx)("span",{children:m.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},m.popoverProps),{},{open:c,children:m.children}))}})},R=function(m){var n=m.fieldProps,o=m.proFieldProps,c=(0,p.Z)(m,D),f=(0,b.useState)(!1),i=(0,r.Z)(f,2),h=i[0],d=i[1];return n!=null&&n.statusRender&&c.name?(0,E.jsx)(l,{name:c.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:h,onOpenChange:d,children:(0,E.jsx)("div",{children:(0,E.jsx)(j.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,I.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(_){var t;n==null||(t=n.onBlur)===null||t===void 0||t.call(n,_),d(!1)},onClick:function(_){var t;n==null||(t=n.onClick)===null||t===void 0||t.call(n,_),d(!0)}}),proFieldProps:o,filedConfig:{valueType:S}},c))})}):(0,E.jsx)(j.Z,(0,a.Z)({valueType:"password",fieldProps:n,proFieldProps:o,filedConfig:{valueType:S}},c))},u=T;u.Password=R,u.displayName="ProFormComponent",s.Z=u},1268:function(P,s,e){var r=e(35194),a=e(50446),p=e(93236),C=e(19544),O=e(62086),x=["fieldProps","proFieldProps"],I=function(j,E){var A=j.fieldProps,D=j.proFieldProps,S=(0,a.Z)(j,x);return(0,O.jsx)(C.Z,(0,r.Z)({ref:E,valueType:"textarea",fieldProps:A,proFieldProps:D},S))};s.Z=p.forwardRef(I)},23401:function(P,s,e){e.d(s,{A:function(){return i}});var r=e(35194),a=e(1317),p=e(93236),C=e(46438),O=e(33781),x=e(68185),I=e(30309),b=e(99827),j=e(10753),E=e(54906),A=e(62614),D=e(76569),S=e(82187),T=e.n(S),l=e(31765),R=e(22312),u=e(85343),y=function(d){return(0,x.Z)({},d.componentCls,{"&-title":{marginBlockEnd:d.marginXL,fontWeight:"bold"},"&-container":(0,x.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(d.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)({display:"block",width:"100%"},"".concat(d.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(d.componentCls,"-container"),{paddingInlineStart:16}),"".concat(d.antCls,"-space-item,").concat(d.antCls,"-form-item"),{width:"100%"}),"".concat(d.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function m(h){return(0,u.Xj)("ProFormGroup",function(d){var v=(0,r.Z)((0,r.Z)({},d),{},{componentCls:".".concat(h)});return[y(v)]})}var n=e(62086),o=p.forwardRef(function(h,d){var v=p.useContext(l.Z),_=v.groupProps,t=(0,r.Z)((0,r.Z)({},_),h),g=t.children,W=t.collapsible,K=t.defaultCollapsed,U=t.style,M=t.labelLayout,F=t.title,Z=F===void 0?h.label:F,G=t.tooltip,$=t.align,Y=$===void 0?"start":$,V=t.direction,J=t.size,N=J===void 0?32:J,w=t.titleStyle,z=t.titleRender,B=t.spaceProps,L=t.extra,re=t.autoFocus,se=(0,j.Z)(function(){return K||!1},{value:h.collapsed,onChange:h.onCollapse}),oe=(0,I.Z)(se,2),k=oe[0],q=oe[1],ie=(0,p.useContext)(A.ZP.ConfigContext),ye=ie.getPrefixCls,ue=(0,R.zx)(h),Me=ue.ColWrapper,ce=ue.RowWrapper,ee=ye("pro-form-group"),me=m(ee),Oe=me.wrapSSR,ae=me.hashId,pe=W&&(0,n.jsx)(b.Z,{style:{marginInlineEnd:8},rotate:k?void 0:90}),ve=(0,n.jsx)(E.G,{label:pe?(0,n.jsxs)("div",{children:[pe,Z]}):Z,tooltip:G}),fe=(0,p.useCallback)(function(Q){var te=Q.children;return(0,n.jsx)(D.Z,(0,r.Z)((0,r.Z)({},B),{},{className:T()("".concat(ee,"-container ").concat(ae),B==null?void 0:B.className),size:N,align:Y,direction:V,style:(0,r.Z)({rowGap:0},B==null?void 0:B.style),children:te}))},[Y,ee,V,ae,N,B]),he=z?z(ve,h):ve,xe=(0,p.useMemo)(function(){var Q=[],te=p.Children.toArray(g).map(function(X,De){var de;return p.isValidElement(X)&&X!==null&&X!==void 0&&(de=X.props)!==null&&de!==void 0&&de.hidden?(Q.push(X),null):De===0&&p.isValidElement(X)&&re?p.cloneElement(X,(0,r.Z)((0,r.Z)({},X.props),{},{autoFocus:re})):X});return[(0,n.jsx)(ce,{Wrapper:fe,children:te},"children"),Q.length>0?(0,n.jsx)("div",{style:{display:"none"},children:Q}):null]},[g,ce,fe,re]),_e=(0,I.Z)(xe,2),Ie=_e[0],je=_e[1];return Oe((0,n.jsx)(Me,{children:(0,n.jsxs)("div",{className:T()(ee,ae,(0,x.Z)({},"".concat(ee,"-twoLine"),M==="twoLine")),style:U,ref:d,children:[je,(Z||G||L)&&(0,n.jsx)("div",{className:"".concat(ee,"-title ").concat(ae).trim(),style:w,onClick:function(){q(!k)},children:L?(0,n.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[he,(0,n.jsx)("span",{onClick:function(te){return te.stopPropagation()},children:L})]}):he}),(0,n.jsx)("div",{style:{display:W&&k?"none":void 0},children:Ie})]})}))});o.displayName="ProForm-Group";var c=o,f=e(44500);function i(h){return(0,n.jsx)(C.I,(0,r.Z)({layout:"vertical",contentRender:function(v,_){return(0,n.jsxs)(n.Fragment,{children:[v,_]})}},h))}i.Group=c,i.useForm=a.Z.useForm,i.Item=f.Z,i.useWatch=a.Z.useWatch,i.ErrorList=a.Z.ErrorList,i.Provider=a.Z.Provider,i.useFormInstance=a.Z.useFormInstance,i.EditOrReadOnlyContext=O.A},54906:function(P,s,e){e.d(s,{G:function(){return m}});var r=e(35194),a=e(68185),p=e(37469),C=e(93236),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},x=O,I=e(16286),b=function(o,c){return C.createElement(I.Z,(0,p.Z)({},o,{ref:c,icon:x}))},j=C.forwardRef(b),E=j,A=e(62614),D=e(80898),S=e(82187),T=e.n(S),l=e(85343),R=function(o){return(0,a.Z)({},o.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:o.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:o.colorTextSecondary,fontWeight:"normal",fontSize:o.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function u(n){return(0,l.Xj)("LabelIconTip",function(o){var c=(0,r.Z)((0,r.Z)({},o),{},{componentCls:".".concat(n)});return[R(c)]})}var y=e(62086),m=C.memo(function(n){var o=n.label,c=n.tooltip,f=n.ellipsis,i=n.subTitle,h=(0,C.useContext)(A.ZP.ConfigContext),d=h.getPrefixCls,v=d("pro-core-label-tip"),_=u(v),t=_.wrapSSR,g=_.hashId;if(!c&&!i)return(0,y.jsx)(y.Fragment,{children:o});var W=typeof c=="string"||C.isValidElement(c)?{title:c}:c,K=(W==null?void 0:W.icon)||(0,y.jsx)(E,{});return t((0,y.jsxs)("div",{className:T()(v,g),onMouseDown:function(M){return M.stopPropagation()},onMouseLeave:function(M){return M.stopPropagation()},onMouseMove:function(M){return M.stopPropagation()},children:[(0,y.jsx)("div",{className:T()("".concat(v,"-title"),g,(0,a.Z)({},"".concat(v,"-title-ellipsis"),f)),children:o}),i&&(0,y.jsx)("div",{className:"".concat(v,"-subtitle ").concat(g).trim(),children:i}),c&&(0,y.jsx)(D.Z,(0,r.Z)((0,r.Z)({},W),{},{children:(0,y.jsx)("span",{className:"".concat(v,"-icon ").concat(g).trim(),children:K})}))]}))})},26533:function(P,s,e){e.d(s,{Z:function(){return K}});var r=e(76591),a=e(80898),p=e(93236),C=e(26068),O=e.n(C),x=e(90228),I=e.n(x),b=e(87999),j=e.n(b),E=e(48305),A=e.n(E),D=e(67825),S=e.n(D),T=e(92628),l=e(62086),R=function(M){return _jsx(Modal,_objectSpread({},M))};function u(U,M){var F=document.createElement("div");F.id="select-file";var Z=(0,T.createRoot)(F),G=!0,$=p.cloneElement(U,O()(O()({open:G,getContainer:!1,onCancel:function(){var V=p.cloneElement($,{open:!1});Z.render(V),console.log("\u5173\u95ED"),setTimeout(function(){Z.unmount(),F.remove()},300)}},M),{},{onFileSelect:function(V){M==null||M.onFileSelect(V);var J=p.cloneElement($,{open:!1});Z.render(J),setTimeout(function(){Z.unmount(),F.remove()},300)}}));Z.render($),document.body.appendChild(F)}var y=e(38887),m=e(81888),n=e(74721),o=e(91186),c=e(35317),f=e(5874),i=e(49591),h=e(20617),d=e(9117),v=["onFileSelect"],_=function(M){var F=M.file,Z=M.onClick;return(0,l.jsx)(c.J,{onClick:Z,isZoomed:!0,alt:F.fileName,src:F.url,className:"object-contain w-full aspect-square bg-secondary-50"})},t=function(M){var F=M.onFileSelect,Z=S()(M,v),G=(0,p.useState)([]),$=A()(G,2),Y=$[0],V=$[1],J=function(){var N=j()(I()().mark(function w(){var z;return I()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,y.oC)({current:1,pageSize:20,remove:1});case 2:z=L.sent,V(z.data.list);case 4:case"end":return L.stop()}},w)}));return function(){return N.apply(this,arguments)}}();return(0,d.Z)(j()(I()().mark(function N(){return I()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,J();case 2:case"end":return z.stop()}},N)}))),(0,l.jsxs)(f.Z,O()(O()({title:"\u9009\u62E9\u6587\u4EF6"},Z),{},{children:[(0,l.jsx)("div",{style:{marginBottom:12},children:(0,l.jsx)(i.Z,{name:"file",action:n.t+"/api/storage/upload",headers:(0,o.P)(),onChange:function(){var N=j()(I()().mark(function w(z){return I()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(z.file.status!=="done"){L.next=3;break}return L.next=3,J();case 3:case"end":return L.stop()}},w)}));return function(w){return N.apply(this,arguments)}}(),children:(0,l.jsx)(h.ZP,{type:"primary",icon:(0,l.jsx)(m.Z,{}),children:"\u65B0."})})}),(0,l.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Y.map(function(N){return(0,l.jsx)(_,{file:N,onClick:function(){return F(N)}},N.id)})})]}))};function g(U){u((0,l.jsx)(t,O()({},U)),U)}var W=function(M){var F,Z;return(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)("div",{style:{flex:1,marginRight:2},children:M.children}),(0,l.jsx)(a.Z,{title:"\u4ECE\u6587\u4EF6\u4E2D\u9009\u62E9\u56FE\u50CF",children:(0,l.jsx)(r.Z,{style:{position:"absolute",top:(F=M.top)!==null&&F!==void 0?F:6,right:(Z=M.right)!==null&&Z!==void 0?Z:12},onClick:function(){g(M)}})})]})},K=W},30096:function(P,s,e){e.r(s),e.d(s,{default:function(){return n}});var r=e(90228),a=e.n(r),p=e(48305),C=e.n(p),O=e(87999),x=e.n(O),I=e(26533),b=e(17783),j=e(23401),E=e(41594),A=e(1268),D=e(74271),S=e(7034),T=e(93236),l=e(62086);function R(o){return u.apply(this,arguments)}function u(){return u=x()(a()().mark(function o(c){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,D.request)("/api/project/save",{method:"POST",data:c}));case 1:case"end":return i.stop()}},o)})),u.apply(this,arguments)}function y(o){return m.apply(this,arguments)}function m(){return m=x()(a()().mark(function o(c){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,D.request)("/api/project/findById",{method:"GET",params:{id:c}}));case 1:case"end":return i.stop()}},o)})),m.apply(this,arguments)}function n(){var o=(0,T.useRef)(),c=(0,D.useSearchParams)(),f=C()(c,1),i=f[0],h=i.get("id"),d=(0,D.useNavigate)();return(0,T.useEffect)(function(){h&&y(h).then(function(v){var _;return(_=o.current)===null||_===void 0?void 0:_.setFieldsValue(v.data)})},[h]),(0,l.jsx)(b._z,{title:"\u6DFB\u52A0\u65B0\u9879\u76EE",children:(0,l.jsx)(S.Z,{children:(0,l.jsxs)(j.A,{formRef:o,onFinish:function(){var v=x()(a()().mark(function _(t){var g;return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,R(t);case 2:return g=K.sent,g.success&&d("/project/list"),K.abrupt("return",g.success);case 5:case"end":return K.stop()}},_)}));return function(_){return v.apply(this,arguments)}}(),children:[(0,l.jsx)(E.Z,{name:"id",label:"Id",hidden:!h,disabled:h!==void 0}),(0,l.jsx)(E.Z,{name:"name",label:"\u9879\u76EE\u540D\u79F0"}),(0,l.jsx)(A.Z,{name:"description",label:"\u9879\u76EE\u4ECB\u7ECD"}),(0,l.jsx)(I.Z,{onFileSelect:function(_){var t;return(t=o.current)===null||t===void 0?void 0:t.setFieldValue("logo",_.url)},children:(0,l.jsx)(E.Z,{name:"logo",label:"\u9879\u76EElogo"})}),(0,l.jsx)(E.Z,{name:"github",label:"\u6E90\u7801\u4ED3\u5E93"}),(0,l.jsx)(E.Z,{name:"downloadUrl",label:"\u4E0B\u8F7D\u5730\u5740"}),(0,l.jsx)(E.Z,{name:"previewUrl",label:"\u9884\u89C8\u5730\u5740"})]})})})}},38887:function(P,s,e){e.d(s,{QU:function(){return E},Zq:function(){return b},oC:function(){return x}});var r=e(90228),a=e.n(r),p=e(87999),C=e.n(p),O=e(74271);function x(D){return I.apply(this,arguments)}function I(){return I=C()(a()().mark(function D(S){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.request)("/api/file/list",{params:S}));case 1:case"end":return l.stop()}},D)})),I.apply(this,arguments)}function b(D){return j.apply(this,arguments)}function j(){return j=C()(a()().mark(function D(S){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.request)("/api/storage/delete",{method:"DELETE",params:{id:S}}));case 1:case"end":return l.stop()}},D)})),j.apply(this,arguments)}function E(D){return A.apply(this,arguments)}function A(){return A=C()(a()().mark(function D(S){var T,l;return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return T=new FormData,T.append("file",S),u.next=4,(0,O.request)("/api/auth/simple-upload",{method:"POST",data:T});case 4:return l=u.sent,u.abrupt("return",l.data);case 6:case"end":return u.stop()}},D)})),A.apply(this,arguments)}},91186:function(P,s,e){e.d(s,{P:function(){return a},V:function(){return p}});var r=e(95024);function a(){var C,O=(C=(0,r.rS)())!==null&&C!==void 0?C:"";return O!==""?{Authorization:O}:{}}function p(){return{"Content-Type":"multipart/form-data"}}},77769:function(P,s,e){var r=e(93236),a=function(p){(0,r.useEffect)(p,[])};s.Z=a},9117:function(P,s,e){var r=e(77769),a=function(p){(0,r.Z)(function(){p()})};s.Z=a},35317:function(P,s,e){e.d(s,{J:function(){return l}});var r=e(93236),a=e(65555),p=e(48722),C=(0,p.tv)({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1,disableAnimation:!1},compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),O=e(88181),x=e(32321),I=e(47155),b=e(86094),j=globalThis!=null&&globalThis.document?r.useLayoutEffect:r.useEffect;function E(R={}){const{loading:u,src:y,srcSet:m,onLoad:n,onError:o,crossOrigin:c,sizes:f,ignoreFallback:i}=R,[h,d]=(0,r.useState)("pending");(0,r.useEffect)(()=>{d(y?"loading":"pending")},[y]);const v=(0,r.useRef)(),_=(0,r.useCallback)(()=>{if(!y)return;t();const g=new Image;g.src=y,c&&(g.crossOrigin=c),m&&(g.srcset=m),f&&(g.sizes=f),u&&(g.loading=u),g.onload=W=>{t(),d("loaded"),n==null||n(W)},g.onerror=W=>{t(),d("failed"),o==null||o(W)},v.current=g},[y,c,m,f,n,o,u]),t=()=>{v.current&&(v.current.onload=null,v.current.onerror=null,v.current=null)};return j(()=>{if(!i)return h==="loading"&&_(),()=>{t()}},[h,_,i]),i?"loaded":h}var A=(R,u)=>R!=="loaded"&&u==="beforeLoadOrError"||R==="failed"&&u==="onError";function D(R){const[u,y]=(0,a.oe)(R,C.variantKeys),k=u,{ref:m,as:n,src:o,className:c,classNames:f,loading:i,isBlurred:h,fallbackSrc:d,isLoading:v,disableSkeleton:_=!!d,removeWrapper:t=!1,onError:g,onLoad:W,srcSet:K,sizes:U,crossOrigin:M}=k,F=Ce(k,["ref","as","src","className","classNames","loading","isBlurred","fallbackSrc","isLoading","disableSkeleton","removeWrapper","onError","onLoad","srcSet","sizes","crossOrigin"]),Z=E({src:o,loading:i,onError:g,onLoad:W,ignoreFallback:!1,srcSet:K,sizes:U,crossOrigin:M}),G=Z==="loaded"&&!v,$=Z==="loading"||v,Y=R.isZoomed,V=n||"img",J=(0,O.gy)(m),{w:N}=(0,r.useMemo)(()=>({w:u.width?typeof u.width=="number"?`${u.width}px`:u.width:"fit-content"}),[u==null?void 0:u.width]),w=(!o||!G)&&!!d,z=$&&!_,B=(0,r.useMemo)(()=>C(ne(H({},y),{showSkeleton:z})),[(0,x.Xx)(y),z]),L=(0,I.W)(c,f==null?void 0:f.img),re=(q={})=>{const ie=(0,I.W)(L,q==null?void 0:q.className);return H({src:o,ref:J,"data-loaded":(0,b.PB)(G),className:B.img({class:ie}),loading:i,srcSet:K,sizes:U,crossOrigin:M},F)},se=(0,r.useCallback)(()=>{const q=w?{backgroundImage:`url(${d})`}:{};return{className:B.wrapper({class:f==null?void 0:f.wrapper}),style:ne(H({},q),{maxWidth:N})}},[B,w,d,f==null?void 0:f.wrapper]),oe=(0,r.useCallback)(()=>({src:o,"aria-hidden":(0,b.PB)(!0),className:B.blurredImg({class:f==null?void 0:f.blurredImg})}),[B,o,f==null?void 0:f.blurredImg]);return{Component:V,domRef:J,slots:B,classNames:f,isBlurred:h,disableSkeleton:_,fallbackSrc:d,removeWrapper:t,isZoomed:Y,isLoading:$,getImgProps:re,getWrapperProps:se,getBlurredImgProps:oe}}var S=e(62086),T=(0,a.Gp)((R,u)=>{const{Component:y,domRef:m,slots:n,classNames:o,isBlurred:c,isZoomed:f,fallbackSrc:i,removeWrapper:h,disableSkeleton:d,getImgProps:v,getWrapperProps:_,getBlurredImgProps:t}=D(ne(H({},R),{ref:u})),g=(0,S.jsx)(y,H({ref:m},v()));if(h)return g;const W=(0,S.jsx)("div",{className:n.zoomedWrapper({class:o==null?void 0:o.zoomedWrapper}),children:g});return c?(0,S.jsxs)("div",ne(H({},_()),{children:[f?W:g,(0,r.cloneElement)(g,t())]})):f||!d||i?(0,S.jsxs)("div",ne(H({},_()),{children:[" ",f?W:g]})):g});T.displayName="NextUI.Image";var l=T}}]);
}());