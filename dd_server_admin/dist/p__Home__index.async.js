"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3371],{51885:function(H,Y,a){var K=a(48305),u=a.n(K),O=a(2182),f=a(15539),S=a(93236),l=a(62086),M=function(x){var T=x.text,Z=(0,S.useState)(!1),B=u()(Z,2),E=B[0],e=B[1],L=function(o){if(o&&o.length){var c=o.length;if(c===1)return"*";if(c===2)return o[0]+"*";if(c===3)return o[0]+"*"+o[2];if(c>3&&c<6){for(var $=o.substring(2,c-1),F=[],w=0;w<$.length;w++)F.push("*");return o[0]+o[1]+F.join("")+o[c-1]}else if(c>=6&&c<8){for(var C=o.substring(2,c-2),D=[],R=0;R<C.length;R++)D.push("*");return o[0]+o[1]+D.join("")+o[c-2]+o[c-1]}else{for(var W=o.substring(3,c-3),P=[],U=0;U<W.length;U++)P.push("*");return o[0]+o[1]+o[2]+P.join("")+o[c-3]+o[c-2]+o[c-1]}}};return T===void 0||T.length===0?(0,l.jsx)("span",{}):(0,l.jsxs)("span",{children:[E?T:L(T),E?(0,l.jsx)(O.Z,{className:"ml-2",onClick:function(){return e(!1)},style:{marginLeft:2}}):(0,l.jsx)(f.Z,{className:"ml-2",onClick:function(){return e(!0)},style:{marginLeft:2}})]})};Y.Z=M},91699:function(H,Y,a){a.r(Y),a.d(Y,{default:function(){return ue}});var K=a(90228),u=a.n(K),O=a(87999),f=a.n(O),S=a(51885),l=a(31639),M=a(64016),g=a(65215),x=a(88129),T=a(42573),Z=a(56701),B=a(93236),E=a(9117),e=a(62086),L=function(){var n=(0,x.useRequest)($,{manual:!0}),r=n.run,t=n.loading,s=n.data,b=n.refresh;return(0,E.Z)(function(){return r()}),(0,e.jsx)(T.Z,{title:"\u6298\u6DD8\u5BA2",extra:[(0,e.jsx)(A,{trigger:(0,e.jsx)(Z.ZP,{size:"small",type:"primary",children:"\u4FEE\u6539"}),onSuccess:b,initValue:s},"update")],children:(0,e.jsxs)(l.vY,{children:[(0,e.jsx)(l.vY.Item,{label:"sid",children:s==null?void 0:s.sid}),(0,e.jsx)(l.vY.Item,{label:"appKey",children:(0,e.jsx)(S.Z,{text:s==null?void 0:s.appKey})}),(0,e.jsx)(l.vY.Item,{label:"\u6DD8\u5B9D\u56DE\u8C03\u5730\u5740",children:s==null?void 0:s.tbAuthBackUrl}),(0,e.jsx)(l.vY.Item,{label:"\u552F\u54C1\u4F1Asid",children:s==null?void 0:s.wphSid})]})})},A=function(n){var r=n.trigger,t=n.onSuccess,s=n.initValue,b=function(){var y=f()(u()().mark(function j(p){var m;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,o(p);case 2:return m=h.sent,m.success&&(t==null||t()),h.abrupt("return",m.success);case 5:case"end":return h.stop()}},j)}));return function(p){return y.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(M.Y,{initialValues:s,onFinish:b,trigger:r,children:[(0,e.jsx)(g.Z,{name:"appKey",label:"app key",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(g.Z,{name:"sid",label:"sid",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(g.Z,{name:"tbAuthBackUrl",label:"\u6DD8\u5B9D\u6388\u6743\u56DE\u8C03URL"}),(0,e.jsx)(g.Z,{name:"wphSid",label:"\u552F\u54C1\u4F1Asid"})]})})};function o(i){return c.apply(this,arguments)}function c(){return c=f()(u()().mark(function i(n){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,x.request)("/api/admin/zhe/update",{method:"POST",data:n}));case 1:case"end":return t.stop()}},i)})),c.apply(this,arguments)}function $(){return F.apply(this,arguments)}function F(){return F=f()(u()().mark(function i(){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,x.request)("/api/admin/zhe/get",{method:"GET"}));case 1:case"end":return r.stop()}},i)})),F.apply(this,arguments)}var w=L,C=a(23886),D=a(33441),R=a(396);function W(i){return P.apply(this,arguments)}function P(){return P=f()(u()().mark(function i(n){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,x.request)("/api/admin/mail/test",{method:"POST",data:n}));case 1:case"end":return t.stop()}},i)})),P.apply(this,arguments)}function U(){return z.apply(this,arguments)}function z(){return z=f()(u()().mark(function i(){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,x.request)("/api/admin/mail/get",{method:"GET"}));case 1:case"end":return r.stop()}},i)})),z.apply(this,arguments)}function J(i){return V.apply(this,arguments)}function V(){return V=f()(u()().mark(function i(n){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,x.request)("/api/admin/mail/update",{method:"POST",data:n}));case 1:case"end":return t.stop()}},i)})),V.apply(this,arguments)}var Q=function(){var n=(0,x.useRequest)(function(){return U()},{manual:!0}),r=n.run,t=n.refresh,s=n.data,b=n.loading;(0,E.Z)(function(){return r()});function y(){}return(0,e.jsx)(T.Z,{title:"\u90AE\u4EF6\u901A\u77E5\u670D\u52A1\u914D\u7F6E",loading:b,extra:(0,e.jsxs)(R.Z,{children:[(0,e.jsx)(_,{trigger:(0,e.jsx)(Z.ZP,{onClick:y,size:"small",children:"\u6D4B\u8BD5"},"test"),initialValue:{content:"test",title:"test",to:"",isHtml:!0}}),(0,e.jsx)(X,{trigger:(0,e.jsx)(Z.ZP,{size:"small",type:"primary",children:"\u4FEE\u6539"}),initialValue:s,onSuccess:t},"edit")]}),children:s&&(0,e.jsxs)(l.vY,{children:[(0,e.jsx)(l.vY.Item,{label:"SMTP\u5730\u5740",children:s.host}),(0,e.jsx)(l.vY.Item,{label:"SMTP\u7AEF\u53E3",children:s.port}),(0,e.jsx)(l.vY.Item,{label:"\u53D1\u4EF6\u4EBA",children:(0,e.jsx)(S.Z,{text:s.from})}),(0,e.jsx)(l.vY.Item,{label:"\u7528\u6237\u540D",children:(0,e.jsx)(S.Z,{text:s.user})}),(0,e.jsx)(l.vY.Item,{label:"\u5BC6\u7801",children:(0,e.jsx)(S.Z,{text:s.pass})}),(0,e.jsx)(l.vY.Item,{label:"\u4F7F\u7528 STARTTLS\u5B89\u5168\u8FDE\u63A5",children:s.starttlsEnable?"\u662F":"\u5426"}),(0,e.jsx)(l.vY.Item,{label:"\u4F7F\u7528SSL\u5B89\u5168\u8FDE\u63A5",children:s.sslEnable?"\u662F":"\u5426"}),(0,e.jsx)(l.vY.Item,{label:"\u7C7B\u540D",children:s.socketFactoryClass})]})})},X=function(n){var r=n.trigger,t=n.onSuccess,s=n.initialValue,b=function(){var j=f()(u()().mark(function p(m){var v;return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,J(m);case 2:return v=d.sent,d.abrupt("return",v.success);case 4:case"end":return d.stop()}},p)}));return function(m){return j.apply(this,arguments)}}(),y=function(){var j=f()(u()().mark(function p(m){var v;return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,b(m);case 2:return v=d.sent,v&&(t==null||t()),d.abrupt("return",v);case 5:case"end":return d.stop()}},p)}));return function(m){return j.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(M.Y,{initialValues:s,trigger:r,onFinish:y,children:[(0,e.jsx)(g.Z,{name:"host",label:"\u90AE\u4EF6\u670D\u52A1\u5668\u7684SMTP\u5730\u5740",tooltip:"\u90AE\u4EF6\u670D\u52A1\u5668\u7684SMTP\u5730\u5740\uFF0C\u53EF\u9009\uFF0C\u9ED8\u8BA4\u4E3Asmtp.<\u53D1\u4EF6\u4EBA\u90AE\u7BB1\u540E\u7F00>"}),(0,e.jsx)(g.Z,{name:"port",label:"\u90AE\u4EF6\u670D\u52A1\u5668\u7684SMTP\u7AEF\u53E3",tooltip:"\u53EF\u9009\uFF0C\u9ED8\u8BA425"}),(0,e.jsx)(C.Z,{name:"auth",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}],children:"\u662F\u5426\u9700\u8981\u9A8C\u8BC1"}),(0,e.jsx)(g.Z,{name:"from",label:"\u53D1\u4EF6\u4EBA\uFF08\u5FC5\u987B\u6B63\u786E\uFF0C\u5426\u5219\u53D1\u9001\u5931\u8D25\uFF09",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(g.Z,{name:"user",label:"\u7528\u6237\u540D\uFF08\u6CE8\u610F\uFF1A\u5982\u679C\u4F7F\u7528foxmail\u90AE\u7BB1\uFF0C\u6B64\u5904user\u4E3Aqq\u53F7\uFF09",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(g.Z,{name:"pass",label:"\u5BC6\u7801\uFF08\u6CE8\u610F\uFF0C\u67D0\u4E9B\u90AE\u7BB1\u9700\u8981\u4E3ASMTP\u670D\u52A1\u5355\u72EC\u8BBE\u7F6E\u5BC6\u7801\uFF0C\u8BE6\u60C5\u67E5\u770B\u76F8\u5173\u5E2E\u52A9\uFF09",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(C.Z,{name:"sslEnable",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}],children:"\u4F7F\u7528SSL\u5B89\u5168\u8FDE\u63A5"}),(0,e.jsx)(C.Z,{name:"starttlsEnable",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}],children:"\u4F7F\u7528 STARTTLS\u5B89\u5168\u8FDE\u63A5\uFF0CSTARTTLS\u662F\u5BF9\u7EAF\u6587\u672C\u901A\u4FE1\u534F\u8BAE\u7684\u6269\u5C55\u3002"}),(0,e.jsx)(g.Z,{name:"socketFactoryClass",label:"\u6307\u5B9A\u5B9E\u73B0javax.net.SocketFactory\u63A5\u53E3\u7684\u7C7B\u7684\u540D\u79F0,\u8FD9\u4E2A\u7C7B\u5C06\u88AB\u7528\u4E8E\u521B\u5EFASMTP\u7684\u5957\u63A5\u5B57",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]})})},_=function(n){var r=n.trigger,t=n.onSuccess,s=n.initialValue,b=function(){var j=f()(u()().mark(function p(m){var v,h;return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,W(m);case 2:return v=I.sent,h=v.success,I.abrupt("return",h);case 5:case"end":return I.stop()}},p)}));return function(m){return j.apply(this,arguments)}}(),y=function(){var j=f()(u()().mark(function p(m){var v;return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,b(m);case 2:return v=d.sent,v&&(t==null||t()),d.abrupt("return",v);case 5:case"end":return d.stop()}},p)}));return function(m){return j.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(M.Y,{initialValues:s,trigger:r,onFinish:y,children:[(0,e.jsx)(g.Z,{name:"to",label:"\u6536\u4EF6\u4EBA\u90AE\u7BB1",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(g.Z,{name:"title",label:"\u6807\u9898",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(D.Z,{name:"content",label:"\u5185\u5BB9",fieldProps:{rows:6},rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(C.Z,{name:"isHtml",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}],children:"\u662F\u5426\u4E3Ahtml\u6587\u672C"})]})})},N=a(81839);function G(){return k.apply(this,arguments)}function k(){return k=f()(u()().mark(function i(){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,N.WY)("/admin/minio/get",{method:"GET"}));case 1:case"end":return r.stop()}},i)})),k.apply(this,arguments)}function ee(i){return q.apply(this,arguments)}function q(){return q=f()(u()().mark(function i(n){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.WY)("/admin/minio/update",{method:"POST",data:n}));case 1:case"end":return t.stop()}},i)})),q.apply(this,arguments)}function re(i){var n=(0,x.useRequest)(function(){return G()}),r=n.data,t=n.loading,s=function(){var b=f()(u()().mark(function y(j){var p,m;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,ee(j);case 2:return p=h.sent,console.log(p),m=p.success,m&&i.onUpdated(),h.abrupt("return",m);case 7:case"end":return h.stop()}},y)}));return function(j){return b.apply(this,arguments)}}();return(0,e.jsxs)(M.Y,{loading:t,title:"\u7F16\u8F91 Minio \u914D\u7F6E",initialValues:r,onFinish:s,trigger:(0,e.jsx)(Z.ZP,{size:"small",type:"primary",children:"\u4FEE\u6539"}),children:[(0,e.jsx)(g.Z,{name:"endpoint",label:"api\u7AEF\u70B9",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(g.Z,{name:"accessKey",label:"accessKey",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(g.Z,{name:"secretKey",label:"secretKey",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(g.Z,{name:"bucketName",label:"bucketName",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]})}var ne=function(){var n=(0,x.useRequest)(G,{manual:!0}),r=n.data,t=n.run,s=n.refresh;return(0,E.Z)(function(){t()}),(0,e.jsx)(T.Z,{title:"minio\u914D\u7F6E",extra:(0,e.jsx)(re,{onUpdated:s}),children:(0,e.jsxs)(l.vY,{children:[(0,e.jsx)(l.vY.Item,{label:"host",children:r==null?void 0:r.endpoint}),(0,e.jsx)(l.vY.Item,{label:"accessKey",children:(0,e.jsx)(S.Z,{text:r==null?void 0:r.accessKey})}),(0,e.jsx)(l.vY.Item,{label:"secretKey",children:(0,e.jsx)(S.Z,{text:r==null?void 0:r.secretKey})}),(0,e.jsx)(l.vY.Item,{label:"bucket",children:r==null?void 0:r.bucketName})]})})},te=ne,se=a(24454),ae=function(){var n=(0,x.useModel)("global"),r=n.name;return(0,e.jsx)(se._z,{ghost:!0,children:(0,e.jsxs)("div",{className:"grid  gap-4 grid-cols-1",children:[(0,e.jsx)(te,{}),(0,e.jsx)(w,{}),(0,e.jsx)(Q,{})]})})},ue=ae}}]);
