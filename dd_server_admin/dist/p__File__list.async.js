"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2139],{365:function(b,D,e){e.r(D),e.d(D,{default:function(){return B}});var f=e(15009),n=e.n(f),M=e(97857),m=e.n(M),c=e(99289),P=e.n(c),E=e(9096),j=e(90930),p=e(29357),U=e(4393),v=e(83062),d=e(8151),a=e(78957),i=e(7134),r=e(86738),C=e(45360),u=e(14726),_=e(85893);function B(){return(0,_.jsx)(j._z,{children:(0,_.jsx)(U.Z,{children:(0,_.jsx)(p.Rs,{request:function(){var o=P()(n()().mark(function t(s){var T;return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,E.oC)(m()(m()({},s),{},{remove:1}));case 2:return T=l.sent,l.abrupt("return",{success:!0,data:T.data.list});case 4:case"end":return l.stop()}},t)}));return function(t){return o.apply(this,arguments)}}(),pagination:{},rowKey:"id",metas:{title:{dataIndex:"fileName",render:function(t,s){return(0,_.jsx)(v.Z,{title:s.url,children:(0,_.jsx)(d.Z.Paragraph,{copyable:{text:s.url},children:t})})}},avatar:{dataIndex:"url",render:function(t,s){return(0,_.jsx)(a.Z,{children:(0,_.jsx)(i.C,{src:s.url})})}},description:{render:function(t,s){return(0,_.jsxs)(_.Fragment,{children:["minio\u540D\u79F0:",s.minioObjectName," - ",s.minioBucketName]})}},subTitle:{dataIndex:"createDate",render:function(t){return(0,_.jsxs)(_.Fragment,{children:["\u4E0A\u4F20\u65F6\u95F4:",t]})}},actions:{render:function(t,s,T,O){return(0,_.jsx)(a.Z,{children:(0,_.jsx)(r.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:P()(n()().mark(function l(){var R;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return R=C.ZP.loading("\u6B63\u5728\u5220\u9664"),h.next=3,(0,E.Zq)(s.id);case 3:R(),O==null||O.reload();case 5:case"end":return h.stop()}},l)})),children:(0,_.jsx)("a",{children:"\u5220\u9664"})})})}}},headerTitle:"\u5217\u8868",toolBarRender:function(){return[(0,_.jsx)(u.ZP,{type:"primary",children:"\u4E0A\u4F20\u6587\u4EF6"},"upload")]}})})})}},9096:function(b,D,e){e.d(D,{QU:function(){return U},Zq:function(){return j},oC:function(){return P}});var f=e(15009),n=e.n(f),M=e(99289),m=e.n(M),c=e(50942);function P(d){return E.apply(this,arguments)}function E(){return E=m()(n()().mark(function d(a){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/file/list",{params:a}));case 1:case"end":return r.stop()}},d)})),E.apply(this,arguments)}function j(d){return p.apply(this,arguments)}function p(){return p=m()(n()().mark(function d(a){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/storage/delete",{method:"DELETE",params:{id:a}}));case 1:case"end":return r.stop()}},d)})),p.apply(this,arguments)}function U(d){return v.apply(this,arguments)}function v(){return v=m()(n()().mark(function d(a){var i,r;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=new FormData,i.append("file",a),u.next=4,(0,c.request)("/api/auth/simple-upload",{method:"POST",data:i});case 4:return r=u.sent,u.abrupt("return",r.data);case 6:case"end":return u.stop()}},d)})),v.apply(this,arguments)}}}]);
