"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2139],{365:function(I,D,e){e.r(D),e.d(D,{default:function(){return b}});var M=e(15009),n=e.n(M),f=e(97857),o=e.n(f),c=e(99289),P=e.n(c),m=e(9096),j=e(90930),p=e(77534),U=e(4393),v=e(83062),s=e(28209),d=e(78957),i=e(7134),_=e(86738),C=e(45360),t=e(14726),r=e(85893);function b(){return(0,r.jsx)(j._z,{children:(0,r.jsx)(U.Z,{children:(0,r.jsx)(p.Rs,{request:function(){var E=P()(n()().mark(function a(u){var T;return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,m.oC)(o()(o()({},u),{},{remove:1}));case 2:return T=l.sent,l.abrupt("return",{success:!0,data:T.data.list});case 4:case"end":return l.stop()}},a)}));return function(a){return E.apply(this,arguments)}}(),pagination:{},rowKey:"id",metas:{title:{dataIndex:"fileName",render:function(a,u){return(0,r.jsx)(v.Z,{title:u.url,children:(0,r.jsx)(s.Z.Paragraph,{copyable:{text:u.url},children:a})})}},avatar:{dataIndex:"url",render:function(a,u){return(0,r.jsx)(d.Z,{children:(0,r.jsx)(i.C,{src:u.url})})}},subTitle:{dataIndex:"createDate",render:function(a){return(0,r.jsxs)(r.Fragment,{children:["\u4E0A\u4F20\u65F6\u95F4:",a]})}},actions:{render:function(a,u,T,O){return(0,r.jsx)(d.Z,{children:(0,r.jsx)(_.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:P()(n()().mark(function l(){var R;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return R=C.ZP.loading("\u6B63\u5728\u5220\u9664"),h.next=3,(0,m.Zq)(u.id);case 3:R(),O==null||O.reload();case 5:case"end":return h.stop()}},l)})),children:(0,r.jsx)("a",{children:"\u5220\u9664"})})})}}},headerTitle:"\u5217\u8868",toolBarRender:function(){return[(0,r.jsx)(t.ZP,{type:"primary",children:"\u4E0A\u4F20\u6587\u4EF6"},"upload")]}})})})}},9096:function(I,D,e){e.d(D,{QU:function(){return U},Zq:function(){return j},oC:function(){return P}});var M=e(15009),n=e.n(M),f=e(99289),o=e.n(f),c=e(50942);function P(s){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function s(d){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,c.request)("/api/file/list",{params:d}));case 1:case"end":return _.stop()}},s)})),m.apply(this,arguments)}function j(s){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function s(d){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,c.request)("/api/storage/delete",{method:"DELETE",params:{id:d}}));case 1:case"end":return _.stop()}},s)})),p.apply(this,arguments)}function U(s){return v.apply(this,arguments)}function v(){return v=o()(n()().mark(function s(d){var i,_;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new FormData,i.append("file",d),t.next=4,(0,c.request)("/api/auth/simple-upload",{method:"POST",data:i});case 4:return _=t.sent,t.abrupt("return",_.data);case 6:case"end":return t.stop()}},s)})),v.apply(this,arguments)}}}]);
