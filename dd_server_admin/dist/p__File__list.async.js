"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2139],{365:function(B,P,e){e.r(P),e.d(P,{default:function(){return I}});var f=e(17061),n=e.n(f),M=e(42122),m=e.n(M),c=e(17156),p=e.n(c),E=e(9096),U=e(90930),v=e(77534),T=e(4393),D=e(83062),d=e(25593),a=e(78957),i=e(7134),_=e(86738),R=e(45360),u=e(28036),r=e(85893);function I(){return(0,r.jsx)(U._z,{children:(0,r.jsx)(T.Z,{children:(0,r.jsx)(v.Rs,{request:function(){var o=p()(n()().mark(function t(s){var C;return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,E.oC)(m()(m()({},s),{},{remove:1}));case 2:return C=l.sent,l.abrupt("return",{success:!0,data:C.data.list});case 4:case"end":return l.stop()}},t)}));return function(t){return o.apply(this,arguments)}}(),pagination:{},rowKey:"id",metas:{title:{dataIndex:"fileName",render:function(t,s){return(0,r.jsx)(D.Z,{title:s.url,children:(0,r.jsx)(d.Z.Paragraph,{copyable:{text:s.url},children:t})})}},avatar:{dataIndex:"url",render:function(t,s){return(0,r.jsx)(a.Z,{children:(0,r.jsx)(i.C,{src:s.url})})}},description:{render:function(t,s){return(0,r.jsxs)(r.Fragment,{children:["minio\u540D\u79F0:",s.minioObjectName," - ",s.minioBucketName]})}},subTitle:{dataIndex:"createDate",render:function(t){return(0,r.jsxs)(r.Fragment,{children:["\u4E0A\u4F20\u65F6\u95F4:",t]})}},actions:{render:function(t,s,C,O){return(0,r.jsx)(a.Z,{children:(0,r.jsx)(_.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:p()(n()().mark(function l(){var j;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return j=R.ZP.loading("\u6B63\u5728\u5220\u9664"),h.next=3,(0,E.Zq)(s.id);case 3:j(),O==null||O.reload();case 5:case"end":return h.stop()}},l)})),children:(0,r.jsx)("a",{children:"\u5220\u9664"})})})}}},headerTitle:"\u5217\u8868",toolBarRender:function(){return[(0,r.jsx)(u.ZP,{type:"primary",children:"\u4E0A\u4F20\u6587\u4EF6"},"upload")]}})})})}},9096:function(B,P,e){e.d(P,{QU:function(){return T},Zq:function(){return U},oC:function(){return p}});var f=e(17061),n=e.n(f),M=e(17156),m=e.n(M),c=e(40742);function p(d){return E.apply(this,arguments)}function E(){return E=m()(n()().mark(function d(a){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,c.request)("/api/file/list",{params:a}));case 1:case"end":return _.stop()}},d)})),E.apply(this,arguments)}function U(d){return v.apply(this,arguments)}function v(){return v=m()(n()().mark(function d(a){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,c.request)("/api/storage/delete",{method:"DELETE",params:{id:a}}));case 1:case"end":return _.stop()}},d)})),v.apply(this,arguments)}function T(d){return D.apply(this,arguments)}function D(){return D=m()(n()().mark(function d(a){var i,_;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=new FormData,i.append("file",a),u.next=4,(0,c.request)("/api/auth/simple-upload",{method:"POST",data:i});case 4:return _=u.sent,u.abrupt("return",_.data);case 6:case"end":return u.stop()}},d)})),D.apply(this,arguments)}}}]);
