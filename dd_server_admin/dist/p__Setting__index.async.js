"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8971],{25874:function(ae,L,r){r.d(L,{Z:function(){return le}});var Y=r(25465),a=r(83062),w=r(67294),c=r(97857),E=r.n(c),W=r(15009),A=r.n(W),R=r(99289),Z=r.n(R),C=r(5574),I=r.n(C),b=r(13769),v=r.n(b),O=r(20745),m=r(85893),H=function(x){return _jsx(Modal,_objectSpread({},x))};function l(U,x){var S=document.createElement("div");S.id="select-file";var P=(0,O.createRoot)(S),N=!0,$=w.cloneElement(U,E()(E()({open:N,getContainer:!1,onCancel:function(){var G=w.cloneElement($,{open:!1});P.render(G),console.log("\u5173\u95ED"),setTimeout(function(){P.unmount(),S.remove()},300)}},x),{},{onFileSelect:function(G){x==null||x.onFileSelect(G);var B=w.cloneElement($,{open:!1});P.render(B),setTimeout(function(){P.unmount(),S.remove()},300)}}));P.render($),document.body.appendChild(S)}var i=r(9096),J=r(88484),Q=r(55375),X=r(10981),k=r(44034),q=r(85576),e=r(2058),re=r(14726),z=r(89048),_=["onFileSelect"],ne=function(x){var S=x.file,P=x.onClick;return(0,m.jsx)(k.J,{onClick:P,isZoomed:!0,alt:S.fileName,src:S.url,className:"object-contain w-full aspect-square bg-secondary-50"})},ue=function(x){var S=x.onFileSelect,P=v()(x,_),N=(0,w.useState)([]),$=I()(N,2),se=$[0],G=$[1],B=function(){var f=Z()(A()().mark(function V(){var K;return A()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,i.oC)({current:1,pageSize:20,remove:1});case 2:K=D.sent,G(K.data.list);case 4:case"end":return D.stop()}},V)}));return function(){return f.apply(this,arguments)}}();return(0,z.Z)(Z()(A()().mark(function f(){return A()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,B();case 2:case"end":return K.stop()}},f)}))),(0,m.jsxs)(q.Z,E()(E()({title:"\u9009\u62E9\u6587\u4EF6"},P),{},{children:[(0,m.jsx)("div",{style:{marginBottom:12},children:(0,m.jsx)(e.Z,{name:"file",action:Q.ty+"/api/storage/upload",headers:(0,X.P)(),onChange:function(){var f=Z()(A()().mark(function V(K){return A()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(K.file.status!=="done"){D.next=3;break}return D.next=3,B();case 3:case"end":return D.stop()}},V)}));return function(V){return f.apply(this,arguments)}}(),children:(0,m.jsx)(re.ZP,{type:"primary",icon:(0,m.jsx)(J.Z,{}),children:"\u65B0."})})}),(0,m.jsx)("div",{className:"grid grid-cols-4 gap-2",children:se.map(function(f){return(0,m.jsx)(ne,{file:f,onClick:function(){return S(f)}},f.id)})})]}))};function te(U){l((0,m.jsx)(ue,E()({},U)),U)}var ie=function(x){var S,P;return(0,m.jsxs)("div",{style:{position:"relative"},children:[(0,m.jsx)("div",{style:{flex:1,marginRight:2},children:x.children}),(0,m.jsx)(a.Z,{title:"\u4ECE\u6587\u4EF6\u4E2D\u9009\u62E9\u56FE\u50CF",children:(0,m.jsx)(Y.Z,{style:{position:"absolute",top:(S=x.top)!==null&&S!==void 0?S:6,right:(P=x.right)!==null&&P!==void 0?P:12},onClick:function(){te(x)}})})]})},le=ie},42520:function(ae,L,r){var Y=r(5574),a=r.n(Y),w=r(90420),c=r(99611),E=r(67294),W=r(85893),A=function(Z){var C=Z.text,I=(0,E.useState)(!1),b=a()(I,2),v=b[0],O=b[1],m=function(l){if(l&&l.length){var i=l.length;if(i===1)return"*";if(i===2)return l[0]+"*";if(i===3)return l[0]+"*"+l[2];if(i>3&&i<6){for(var J=l.substring(2,i-1),Q=[],X=0;X<J.length;X++)Q.push("*");return l[0]+l[1]+Q.join("")+l[i-1]}else if(i>=6&&i<8){for(var k=l.substring(2,i-2),q=[],e=0;e<k.length;e++)q.push("*");return l[0]+l[1]+q.join("")+l[i-2]+l[i-1]}else{for(var re=l.substring(3,i-3),z=[],_=0;_<re.length;_++)z.push("*");return l[0]+l[1]+l[2]+z.join("")+l[i-3]+l[i-2]+l[i-1]}}};return C===void 0||C.length===0?(0,W.jsx)("span",{}):(0,W.jsxs)("span",{children:[v?C:m(C),v?(0,W.jsx)(w.Z,{className:"ml-2",onClick:function(){return O(!1)},style:{marginLeft:2}}):(0,W.jsx)(c.Z,{className:"ml-2",onClick:function(){return O(!0)},style:{marginLeft:2}})]})};L.Z=A},71678:function(ae,L,r){r.r(L),r.d(L,{default:function(){return Ze}});var Y=r(15009),a=r.n(Y),w=r(99289),c=r.n(w),E=r(67294),W=r(90930),A=r(31259),R=r(53422),Z=r(4393),C=r(14726),I=r(9383),b=r(25278),v=r(50942),O=r(92273),m=r(5574),H=r.n(m),l=r(97269),i=r(5966),J=r(90672),Q=r(25874),X=r(97857),k=r.n(X),q=r(64317),e=r(85893),re=function(t){var n,s=(0,v.useModel)("useText"),u=s.allTexts;return(0,e.jsx)(q.Z,k()(k()({width:"sm"},t),{},{options:(n=u==null?void 0:u.map(function(F){return{label:F.name,value:F.name}}))!==null&&n!==void 0?n:[]}))},z=re;function _(o){return ne.apply(this,arguments)}function ne(){return ne=c()(a()().mark(function o(t){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.request)("/admin/miniapp/config/update",{method:"POST",data:t}));case 1:case"end":return s.stop()}},o)})),ne.apply(this,arguments)}function ue(){return te.apply(this,arguments)}function te(){return te=c()(a()().mark(function o(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/admin/miniapp/config/get",{method:"GET"}));case 1:case"end":return n.stop()}},o)})),te.apply(this,arguments)}var ie=function(t){var n=t.onSuccess,s=I.Z.useForm(),u=H()(s,1),F=u[0],T=function(){var h=c()(a()().mark(function p(g){var d;return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,_(g);case 2:return d=y.sent,y.abrupt("return",d.success);case 4:case"end":return y.stop()}},p)}));return function(g){return h.apply(this,arguments)}}(),M=function(){var h=c()(a()().mark(function p(g){var d;return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,T(g);case 2:return d=y.sent,d&&(n==null||n(),F.setFieldsValue(g)),y.abrupt("return",d);case 5:case"end":return y.stop()}},p)}));return function(g){return h.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(l.A,{form:F,onFinish:M,title:"\u4FEE\u6539\u5C0F\u7A0B\u5E8F\u914D\u7F6E",request:c()(a()().mark(function h(){var p;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,ue();case 2:return p=d.sent,d.abrupt("return",p.data);case 4:case"end":return d.stop()}},h)})),children:[(0,e.jsxs)(l.A.Group,{children:[(0,e.jsx)(i.Z,{name:"nickName",label:"\u59D3\u540D",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"gender",label:"\u6027\u522B",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]}),(0,e.jsxs)(l.A.Group,{children:[(0,e.jsx)(i.Z,{name:"address",label:"\u5730\u5740",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"job",label:"\u804C\u4E1A",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]}),(0,e.jsx)(i.Z,{name:"codeStack",label:"\u6280\u672F\u6808",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(J.Z,{fieldProps:{rows:3},name:"descriptionText",label:"\u4E2A\u4EBA\u63CF\u8FF0",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsxs)(l.A.Group,{children:[(0,e.jsx)(i.Z,{name:"moreText",label:"\u5E95\u90E8\u6309\u94AE",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(z,{name:"moreTextKey",label:"\u5E95\u90E8\u6309\u94AE\u7684\u5B57\u5178key",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]}),(0,e.jsxs)(l.A.Group,{children:[(0,e.jsx)(i.Z,{name:"btnOneTitle",label:"\u6309\u94AE1\u6807\u9898",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(z,{name:"btnOneKey",label:"\u6309\u94AE1\u5B57\u5178key",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]}),(0,e.jsxs)(l.A.Group,{children:[(0,e.jsx)(i.Z,{name:"btnTwoTitle",label:"\u6309\u94AE2\u6807\u9898",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(z,{name:"btnTwoKey",label:"\u6309\u94AE2\u5B57\u5178key",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]}),(0,e.jsx)(Q.Z,{onFileSelect:function(p){return F.setFieldValue("avatar",p.url)},children:(0,e.jsx)(i.Z,{name:"avatar",label:"\u5934\u50CF",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})})]})})},le=ie,U=r(62309);function x(){return S.apply(this,arguments)}function S(){return S=c()(a()().mark(function o(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,U.WY)("/admin/minio/get",{method:"GET"}));case 1:case"end":return n.stop()}},o)})),S.apply(this,arguments)}function P(o){return N.apply(this,arguments)}function N(){return N=c()(a()().mark(function o(t){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,U.WY)("/admin/minio/update",{method:"POST",data:t}));case 1:case"end":return s.stop()}},o)})),N.apply(this,arguments)}var $=r(37476);function se(o){var t=(0,v.useRequest)(function(){return x()}),n=t.data,s=t.loading,u=function(){var F=c()(a()().mark(function T(M){var h,p;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,P(M);case 2:return h=d.sent,console.log(h),p=h.success,p&&o.onUpdated(),d.abrupt("return",p);case 7:case"end":return d.stop()}},T)}));return function(M){return F.apply(this,arguments)}}();return(0,e.jsxs)($.Y,{loading:s,title:"\u7F16\u8F91 Minio \u914D\u7F6E",initialValues:n,onFinish:u,trigger:(0,e.jsx)(C.ZP,{size:"small",type:"primary",children:"\u4FEE\u6539"}),children:[(0,e.jsx)(i.Z,{name:"endpoint",label:"api\u7AEF\u70B9",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"accessKey",label:"accessKey",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"secretKey",label:"secretKey",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"bucketName",label:"bucketName",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]})}var G=r(89048),B=r(42520),f=r(29945),V=function(){var t=(0,v.useRequest)(x,{manual:!0}),n=t.data,s=t.run,u=t.refresh;return(0,G.Z)(function(){s()}),(0,e.jsx)(Z.Z,{title:"minio\u914D\u7F6E",extra:(0,e.jsx)(se,{onUpdated:u}),children:(0,e.jsxs)(f.vY,{children:[(0,e.jsx)(f.vY.Item,{label:"host",children:n==null?void 0:n.endpoint}),(0,e.jsx)(f.vY.Item,{label:"accessKey",children:(0,e.jsx)(B.Z,{text:n==null?void 0:n.accessKey})}),(0,e.jsx)(f.vY.Item,{label:"secretKey",children:(0,e.jsx)(B.Z,{text:n==null?void 0:n.secretKey})}),(0,e.jsx)(f.vY.Item,{label:"bucket",children:n==null?void 0:n.bucketName})]})})},K=V,ee=r(63434),D=r(78957);function fe(o){return oe.apply(this,arguments)}function oe(){return oe=c()(a()().mark(function o(t){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.request)("/api/admin/mail/test",{method:"POST",data:t}));case 1:case"end":return s.stop()}},o)})),oe.apply(this,arguments)}function he(){return de.apply(this,arguments)}function de(){return de=c()(a()().mark(function o(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/mail/get",{method:"GET"}));case 1:case"end":return n.stop()}},o)})),de.apply(this,arguments)}function ve(o){return ce.apply(this,arguments)}function ce(){return ce=c()(a()().mark(function o(t){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.request)("/api/admin/mail/update",{method:"POST",data:t}));case 1:case"end":return s.stop()}},o)})),ce.apply(this,arguments)}var ge=function(){var t=(0,v.useRequest)(function(){return he()},{manual:!0}),n=t.run,s=t.refresh,u=t.data,F=t.loading;(0,G.Z)(function(){return n()});function T(){}return(0,e.jsx)(Z.Z,{title:"\u90AE\u4EF6\u901A\u77E5\u670D\u52A1\u914D\u7F6E",loading:F,extra:(0,e.jsxs)(D.Z,{children:[(0,e.jsx)(xe,{trigger:(0,e.jsx)(C.ZP,{onClick:T,size:"small",children:"\u6D4B\u8BD5"},"test"),initialValue:{content:"test",title:"test",to:"",isHtml:!0}}),(0,e.jsx)(je,{trigger:(0,e.jsx)(C.ZP,{size:"small",type:"primary",children:"\u4FEE\u6539"}),initialValue:u,onSuccess:s},"edit")]}),children:u&&(0,e.jsxs)(f.vY,{children:[(0,e.jsx)(f.vY.Item,{label:"SMTP\u5730\u5740",children:u.host}),(0,e.jsx)(f.vY.Item,{label:"SMTP\u7AEF\u53E3",children:u.port}),(0,e.jsx)(f.vY.Item,{label:"\u53D1\u4EF6\u4EBA",children:(0,e.jsx)(B.Z,{text:u.from})}),(0,e.jsx)(f.vY.Item,{label:"\u7528\u6237\u540D",children:(0,e.jsx)(B.Z,{text:u.user})}),(0,e.jsx)(f.vY.Item,{label:"\u5BC6\u7801",children:(0,e.jsx)(B.Z,{text:u.pass})}),(0,e.jsx)(f.vY.Item,{label:"\u4F7F\u7528 STARTTLS\u5B89\u5168\u8FDE\u63A5",children:u.starttlsEnable?"\u662F":"\u5426"}),(0,e.jsx)(f.vY.Item,{label:"\u4F7F\u7528SSL\u5B89\u5168\u8FDE\u63A5",children:u.sslEnable?"\u662F":"\u5426"}),(0,e.jsx)(f.vY.Item,{label:"\u7C7B\u540D",children:u.socketFactoryClass})]})})},je=function(t){var n=t.trigger,s=t.onSuccess,u=t.initialValue,F=function(){var M=c()(a()().mark(function h(p){var g;return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,ve(p);case 2:return g=j.sent,j.abrupt("return",g.success);case 4:case"end":return j.stop()}},h)}));return function(p){return M.apply(this,arguments)}}(),T=function(){var M=c()(a()().mark(function h(p){var g;return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,F(p);case 2:return g=j.sent,g&&(s==null||s()),j.abrupt("return",g);case 5:case"end":return j.stop()}},h)}));return function(p){return M.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)($.Y,{initialValues:u,trigger:n,onFinish:T,children:[(0,e.jsx)(i.Z,{name:"host",label:"\u90AE\u4EF6\u670D\u52A1\u5668\u7684SMTP\u5730\u5740",tooltip:"\u90AE\u4EF6\u670D\u52A1\u5668\u7684SMTP\u5730\u5740\uFF0C\u53EF\u9009\uFF0C\u9ED8\u8BA4\u4E3Asmtp.<\u53D1\u4EF6\u4EBA\u90AE\u7BB1\u540E\u7F00>"}),(0,e.jsx)(i.Z,{name:"port",label:"\u90AE\u4EF6\u670D\u52A1\u5668\u7684SMTP\u7AEF\u53E3",tooltip:"\u53EF\u9009\uFF0C\u9ED8\u8BA425"}),(0,e.jsx)(ee.Z,{name:"auth",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}],children:"\u662F\u5426\u9700\u8981\u9A8C\u8BC1"}),(0,e.jsx)(i.Z,{name:"from",label:"\u53D1\u4EF6\u4EBA\uFF08\u5FC5\u987B\u6B63\u786E\uFF0C\u5426\u5219\u53D1\u9001\u5931\u8D25\uFF09",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"user",label:"\u7528\u6237\u540D\uFF08\u6CE8\u610F\uFF1A\u5982\u679C\u4F7F\u7528foxmail\u90AE\u7BB1\uFF0C\u6B64\u5904user\u4E3Aqq\u53F7\uFF09",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"pass",label:"\u5BC6\u7801\uFF08\u6CE8\u610F\uFF0C\u67D0\u4E9B\u90AE\u7BB1\u9700\u8981\u4E3ASMTP\u670D\u52A1\u5355\u72EC\u8BBE\u7F6E\u5BC6\u7801\uFF0C\u8BE6\u60C5\u67E5\u770B\u76F8\u5173\u5E2E\u52A9\uFF09",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(ee.Z,{name:"sslEnable",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}],children:"\u4F7F\u7528SSL\u5B89\u5168\u8FDE\u63A5"}),(0,e.jsx)(ee.Z,{name:"starttlsEnable",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}],children:"\u4F7F\u7528 STARTTLS\u5B89\u5168\u8FDE\u63A5\uFF0CSTARTTLS\u662F\u5BF9\u7EAF\u6587\u672C\u901A\u4FE1\u534F\u8BAE\u7684\u6269\u5C55\u3002"}),(0,e.jsx)(i.Z,{name:"socketFactoryClass",label:"\u6307\u5B9A\u5B9E\u73B0javax.net.SocketFactory\u63A5\u53E3\u7684\u7C7B\u7684\u540D\u79F0,\u8FD9\u4E2A\u7C7B\u5C06\u88AB\u7528\u4E8E\u521B\u5EFASMTP\u7684\u5957\u63A5\u5B57",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]})]})})},xe=function(t){var n=t.trigger,s=t.onSuccess,u=t.initialValue,F=function(){var M=c()(a()().mark(function h(p){var g,d;return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,fe(p);case 2:return g=y.sent,d=g.success,y.abrupt("return",d);case 5:case"end":return y.stop()}},h)}));return function(p){return M.apply(this,arguments)}}(),T=function(){var M=c()(a()().mark(function h(p){var g;return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,F(p);case 2:return g=j.sent,g&&(s==null||s()),j.abrupt("return",g);case 5:case"end":return j.stop()}},h)}));return function(p){return M.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)($.Y,{initialValues:u,trigger:n,onFinish:T,children:[(0,e.jsx)(i.Z,{name:"to",label:"\u6536\u4EF6\u4EBA\u90AE\u7BB1",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"title",label:"\u6807\u9898",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(J.Z,{name:"content",label:"\u5185\u5BB9",fieldProps:{rows:6},rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(ee.Z,{name:"isHtml",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}],children:"\u662F\u5426\u4E3Ahtml\u6587\u672C"})]})})},ye=function(){var t=(0,v.useRequest)(Te,{manual:!0}),n=t.run,s=t.loading,u=t.data,F=t.refresh;return(0,G.Z)(function(){return n()}),(0,e.jsx)(Z.Z,{title:"\u6298\u6DD8\u5BA2",extra:[(0,e.jsx)(Fe,{trigger:(0,e.jsx)(C.ZP,{size:"small",type:"primary",children:"\u4FEE\u6539"}),onSuccess:F,initValue:u},"update")],children:(0,e.jsxs)(f.vY,{children:[(0,e.jsx)(f.vY.Item,{label:"sid",children:u==null?void 0:u.sid}),(0,e.jsx)(f.vY.Item,{label:"appKey",children:(0,e.jsx)(B.Z,{text:u==null?void 0:u.appKey})}),(0,e.jsx)(f.vY.Item,{label:"\u6DD8\u5B9D\u56DE\u8C03\u5730\u5740",children:u==null?void 0:u.tbAuthBackUrl}),(0,e.jsx)(f.vY.Item,{label:"\u552F\u54C1\u4F1Asid",children:u==null?void 0:u.wphSid})]})})},Fe=function(t){var n=t.trigger,s=t.onSuccess,u=t.initValue,F=function(){var T=c()(a()().mark(function M(h){var p;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Se(h);case 2:return p=d.sent,p.success&&(s==null||s()),d.abrupt("return",p.success);case 5:case"end":return d.stop()}},M)}));return function(h){return T.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)($.Y,{initialValues:u,onFinish:F,trigger:n,children:[(0,e.jsx)(i.Z,{name:"appKey",label:"app key",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"sid",label:"sid",rules:[{message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5185\u5BB9",required:!0}]}),(0,e.jsx)(i.Z,{name:"tbAuthBackUrl",label:"\u6DD8\u5B9D\u6388\u6743\u56DE\u8C03URL"}),(0,e.jsx)(i.Z,{name:"wphSid",label:"\u552F\u54C1\u4F1Asid"})]})})};function Se(o){return me.apply(this,arguments)}function me(){return me=c()(a()().mark(function o(t){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.request)("/api/admin/zhe/update",{method:"POST",data:t}));case 1:case"end":return s.stop()}},o)})),me.apply(this,arguments)}function Te(){return pe.apply(this,arguments)}function pe(){return pe=c()(a()().mark(function o(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/zhe/get",{method:"GET"}));case 1:case"end":return n.stop()}},o)})),pe.apply(this,arguments)}var be=ye;function Ze(){var o=function(){var t=c()(a()().mark(function n(s){var u;return a()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,v.request)("/api/auth/user-update-pass",{method:"POST",data:s});case 2:u=T.sent,console.log(u),u.success&&((0,O.el)(),window.location.href="/login");case 5:case"end":return T.stop()}},n)}));return function(s){return t.apply(this,arguments)}}();return(0,e.jsx)(W._z,{children:(0,e.jsxs)(A.n,{children:[(0,e.jsx)(R.r,{title:"\u4E2A\u4EBA\u8D44\u6599",children:(0,e.jsx)(Z.Z,{children:"\u6682\u65E0"})},"profile"),(0,e.jsx)(R.r,{title:"minio\u914D\u7F6E",children:(0,e.jsx)(K,{})},"minio-config"),(0,e.jsx)(R.r,{title:"\u90AE\u4EF6\u914D\u7F6E",children:(0,e.jsx)(ge,{})},"email-config"),(0,e.jsx)(R.r,{title:"\u6298\u6DD8\u5BA2\u914D\u7F6E",children:(0,e.jsx)(be,{})},"zhe-config"),(0,e.jsx)(R.r,{title:"\u5C0F\u7A0B\u5E8F\u914D\u7F6E",children:(0,e.jsx)(Z.Z,{children:(0,e.jsx)(le,{trigger:(0,e.jsx)(C.ZP,{children:"\u4FEE\u6539\u914D\u7F6E"})})})},"mini-app-config"),(0,e.jsx)(R.r,{title:"\u4FEE\u6539\u5BC6\u7801",children:(0,e.jsx)(Z.Z,{children:(0,e.jsxs)(I.Z,{onFinish:o,layout:"vertical",children:[(0,e.jsx)(I.Z.Item,{name:"currentPass",label:"\u5F53\u524D\u5BC6\u7801",required:!0,rules:[{required:!0}],children:(0,e.jsx)(b.Z,{type:"password"})}),(0,e.jsx)(I.Z.Item,{name:"rePassword",label:"\u65B0\u5BC6\u7801",dependencies:["currentPass"],rules:[{required:!0},function(t){return{validator:function(s,u){return!u||u!==t.getFieldValue("currentPass")?Promise.resolve():Promise.reject(new Error("\u65B0\u5BC6\u7801\u4E0D\u80FD\u548C\u65E7\u5BC6\u7801\u4E00\u6837"))}}}],children:(0,e.jsx)(b.Z,{type:"password"})}),(0,e.jsx)(I.Z.Item,{name:"rePassword2",label:"\u786E\u8BA4\u65B0\u5BC6\u7801",required:!0,dependencies:["rePassword"],rules:[{required:!0},function(t){return{validator:function(s,u){return!u||u===t.getFieldValue("rePassword")?Promise.resolve():Promise.reject(new Error("\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}],children:(0,e.jsx)(b.Z,{type:"password"})}),(0,e.jsx)(I.Z.Item,{children:(0,e.jsx)(C.ZP,{type:"primary",htmlType:"submit",children:"\u4FEE\u6539\u5BC6\u7801"})})]})})},"password")]})})}},9096:function(ae,L,r){r.d(L,{QU:function(){return C},Zq:function(){return R},oC:function(){return W}});var Y=r(15009),a=r.n(Y),w=r(99289),c=r.n(w),E=r(50942);function W(b){return A.apply(this,arguments)}function A(){return A=c()(a()().mark(function b(v){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,E.request)("/api/file/list",{params:v}));case 1:case"end":return m.stop()}},b)})),A.apply(this,arguments)}function R(b){return Z.apply(this,arguments)}function Z(){return Z=c()(a()().mark(function b(v){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,E.request)("/api/storage/delete",{method:"DELETE",params:{id:v}}));case 1:case"end":return m.stop()}},b)})),Z.apply(this,arguments)}function C(b){return I.apply(this,arguments)}function I(){return I=c()(a()().mark(function b(v){var O,m;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return O=new FormData,O.append("file",v),l.next=4,(0,E.request)("/api/auth/simple-upload",{method:"POST",data:O});case 4:return m=l.sent,l.abrupt("return",m.data);case 6:case"end":return l.stop()}},b)})),I.apply(this,arguments)}},10981:function(ae,L,r){r.d(L,{P:function(){return a},V:function(){return w}});var Y=r(92273);function a(){var c,E=(c=(0,Y.rS)())!==null&&c!==void 0?c:"";return E!==""?{Authorization:E}:{}}function w(){return{"Content-Type":"multipart/form-data"}}}}]);
